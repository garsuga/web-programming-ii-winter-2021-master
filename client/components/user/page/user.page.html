<div class="p-4"></div>
<h1 class="page-header text-center">Users</h1>
<div class="page-header text-center">
    <button *ngIf="!editing" class="btn btn-outline-primary" (click)="editing = true;">Edit</button>
    <button *ngIf="editing" class="btn btn-outline-success" (click)="editing = false; acceptEdits();">Save</button>
    <button *ngIf="editing" class="btn btn-outline-danger" (click)="editing = false; rejectEdits();">Cancel</button>
</div>
<div class="p-3"></div>
<div class="row">
    <div class="col-1 col-md-2"></div>
    <table class="table col-10 col-md-8">
        <!--Header-->
        <thead>
            <th scope="col">
                Username
            </th>
            <th class="d-none d-md-table-cell" scope="col">
                Email
            </th>
            <th scope="col">
                First Name
            </th>
            <th scope="col">
                Last Name
            </th>
            <th scope="col">
                <span class="float-right">
                    Actions
                </span>
            </th>
        </thead>
        <tbody>
            <ng-template ngFor let-user [ngForOf]="users" let-i="index">
                <tr>
                    <td>
                        <span *ngIf="!addedUsers.includes(user);" class="align-middle">{{user.username}}</span>
                        <input *ngIf="addedUsers.includes(user);" class="form-control" type="text" [(ngModel)]="user.username" (change)="markUser(i);">
                    </td>
                    <td class="d-none d-md-table-cell">
                        <span *ngIf="!editing" class="align-middle">{{user.email}}</span>
                        <input *ngIf="editing" class="form-control" type="text" [(ngModel)]="user.email" (change)="markUser(i);">
                    </td>
                    <td>
                        <span *ngIf="!editing" class="align-middle">{{user.name.firstName}}</span>
                        <input *ngIf="editing" class="form-control" type="text" [(ngModel)]="user.name.firstName" (change)="markUser(i);">
                    </td>
                    <td>
                        <span *ngIf="!editing" class="align-middle">{{user.name.lastName}}</span>
                        <input *ngIf="editing" class="form-control" type="text" [(ngModel)]="user.name.lastName" (change)="markUser(i);">
                    </td>
                    <td class="align-middle">
                        <button class="float-right btn-outline-danger btn" (click)="deleteUser(user);">Delete</button>
                    </td>
                </tr>
            </ng-template>
        </tbody>
    </table>
    <div class="col-1 col-md-2"></div>
</div>
<div class="page-header text-center">
    <button *ngIf="editing" class="btn btn-outline-success" (click)="addUser()">New User</button>
</div>


